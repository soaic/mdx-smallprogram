var patterns = {
  "patterns": [
    {
      "name": "Original",
      "name_zh_cn": "原声",
      "name_en": "Original",
      "name_de": "Tonspur",
      "name_fr": "Soundtrack",
      "name_jp": "サウンドトラック",
      "name_zh_tw": "原聲",
      "name_ru": "Саундтрек",
      "name_kr": "어쿠스틱",
      "icon": "pattern_13",
      "position": 0,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 39.905247,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 79.62144,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 2,
          "frequency": 158.86566,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 316.97864,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 632.4555,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1261.9149,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2517.8506,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 5023.7734,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 10023.743,
          "gain": 0,
          "quality": 1
        }
      ]
    },
    {
      "name": "Popular",
      "name_zh_cn": "流行",
      "name_en": "Popula",
      "name_de": "beliebt",
      "name_fr": "populaire",
      "name_jp": "人気のあります",
      "name_zh_tw": "流行",
      "name_ru": "поп",
      "name_kr": "유행",
      "icon": "pattern_4",
      "position": 1,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 32.15733,
          "gain": 3.0084238,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 62.56659,
          "gain": 6.0168476,
          "quality": 1
        },
        {
          "index": 2,
          "frequency": 125.286705,
          "gain": 2.960289,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 256.3554,
          "gain": -5.9927797,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 513.3399,
          "gain": 3.9951859,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1002.37445,
          "gain": 2.984356,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2103.3186,
          "gain": -6.016847,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 4319.2163,
          "gain": 5.0060167,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 14997.882,
          "gain": 0.986763,
          "quality": 0.3
        }
      ]
    },
    {
      "name": "Rock",
      "name_zh_cn": "摇滚",
      "name_en": "Rock",
      "name_de": "Rock",
      "name_fr": "rock",
      "name_jp": "ロック",
      "name_zh_tw": "搖滾",
      "name_ru": "рок",
      "name_kr": "록",
      "icon": "pattern_16",
      "position": 2,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 31.24496,
          "gain": 3.1638622,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 62.56659,
          "gain": 4.1933737,
          "quality": 1
        },
        {
          "index": 2,
          "frequency": 125.28666,
          "gain": 3.1261969,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 248.18758,
          "gain": -3.1387525,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 500.57312,
          "gain": -3.1387525,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1046.5984,
          "gain": -2.1092415,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2036.3032,
          "gain": 2.059021,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 8048.5464,
          "gain": 4.9811687,
          "quality": 0.76499987
        },
        {
          "index": 8,
          "frequency": 16594.328,
          "gain": 5.1726637,
          "quality": 1
        }
      ]
    },
    {
      "name": "Heavy Bass",
      "name_zh_cn": "重低音",
      "name_en": "Heavy bass",
      "name_de": "Subwoofer",
      "name_fr": "Subwoofer",
      "name_jp": "サブウーファー",
      "name_zh_tw": "重低音",
      "name_ru": "бас",
      "name_kr": "무거운 베이스",
      "icon": "pattern_15",
      "position": 3,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 31.244959,
          "gain": 8.581139,
          "quality": 1.0216973
        },
        {
          "index": 1,
          "frequency": 62.7921,
          "gain": 7.959837,
          "quality": 1.35
        },
        {
          "index": 2,
          "frequency": 125.73824,
          "gain": -0.9673462,
          "quality": 3
        },
        {
          "index": 3,
          "frequency": 250.88081,
          "gain": -1.0348978,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 502.3773,
          "gain": 2.9939098,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1039.0942,
          "gain": -1.9865398,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 1985.6602,
          "gain": 0.9832325,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 4033.8296,
          "gain": -1.0312996,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 9951.876,
          "gain": -0.03610134,
          "quality": 1.4999999
        }
      ]
    },
    {
      "name": "Nostalgia",
      "name_zh_cn": "怀旧",
      "name_en": "Nostalgia",
      "name_de": "Reminiszenz",
      "name_fr": "réminiscence",
      "name_jp": "回想",
      "name_zh_tw": "懷舊",
      "name_ru": "ностальгия",
      "name_kr": "옛날을 그리워했어",
      "icon": "pattern_17",
      "position": 4,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 29.497145,
          "gain": -8.580024,
          "quality": 1.065
        },
        {
          "index": 1,
          "frequency": 62.118004,
          "gain": -5.6920505,
          "quality": 0.30607176
        },
        {
          "index": 2,
          "frequency": 318.2573,
          "gain": 4.971966,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 578.05273,
          "gain": -5.5017853,
          "quality": 1.57
        },
        {
          "index": 4,
          "frequency": 868.0206,
          "gain": 9.996122,
          "quality": 2.2599998
        },
        {
          "index": 5,
          "frequency": 2464.0806,
          "gain": -2.4415898,
          "quality": 3
        },
        {
          "index": 6,
          "frequency": 3418.5552,
          "gain": 2.66333,
          "quality": 3
        },
        {
          "index": 7,
          "frequency": 6234.19,
          "gain": -0.024946213,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 19362.771,
          "gain": -1.8956432,
          "quality": 0.31500006
        }
      ]
    },
    {
      "name": "Dance",
      "name_zh_cn": "舞曲",
      "name_en": "Dance",
      "name_de": "Tanz",
      "name_fr": "danse",
      "name_jp": "ダンス",
      "name_zh_tw": "舞曲",
      "name_ru": "танец",
      "name_kr": "댄스",
      "icon": "pattern_3",
      "position": 5,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 32.041843,
          "gain": 6.3877316,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 63.245556,
          "gain": 3.6456118,
          "quality": 1
        },
        {
          "index": 2,
          "frequency": 124.83677,
          "gain": -6.5512023,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 250.88081,
          "gain": -7.028083,
          "quality": 0.7000003
        },
        {
          "index": 4,
          "frequency": 522.6579,
          "gain": -6.828126,
          "quality": 1.0900003
        },
        {
          "index": 5,
          "frequency": 1013.2519,
          "gain": 2.8720493,
          "quality": 0.94499993
        },
        {
          "index": 6,
          "frequency": 2000.0002,
          "gain": 6.291212,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 4019.343,
          "gain": 3.973199,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 16058.964,
          "gain": 8.292652,
          "quality": 0.3080418
        }
      ]
    },
    {
      "name": "Classical",
      "name_zh_cn": "古典",
      "name_en": "classical",
      "name_de": "Klassik",
      "name_fr": "classique",
      "name_jp": "古典的な",
      "name_zh_tw": "古典",
      "name_ru": "классической",
      "name_kr": "클래식",
      "icon": "pattern_2",
      "position": 6,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 31.470598,
          "gain": 5.9927797,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 61.672634,
          "gain": 3.971119,
          "quality": 1
        },
        {
          "index": 2,
          "frequency": 125.738266,
          "gain": 0.9626961,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 251.7851,
          "gain": -0.024066925,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 502.3773,
          "gain": 0.024066925,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1039.0942,
          "gain": -3.9951868,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2014.4431,
          "gain": -5.030084,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 4969.8403,
          "gain": -5.030084,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 10465.982,
          "gain": -6.0048137,
          "quality": 0.76223516
        }
      ]
    },
    {
      "name": "Voice",
      "name_zh_cn": "人声",
      "name_en": "Voice",
      "name_de": "vokal",
      "name_fr": "vocal",
      "name_jp": "ボーカル",
      "name_zh_tw": "人聲",
      "name_ru": "голос",
      "name_kr": "인기척",
      "icon": "pattern_11",
      "position": 7,
      "maxdb": 0,
      "mindb": 0,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 31.697865,
          "gain": -4.043321,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 62.7921,
          "gain": -7.0517445,
          "quality": 1
        },
        {
          "index": 2,
          "frequency": 125.7383,
          "gain": -6.9915767,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 250.88081,
          "gain": -1.9975929,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 502.3773,
          "gain": 2.984356,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1035.3625,
          "gain": 3.971119,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2021.7036,
          "gain": 5.9927797,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 4019.343,
          "gain": 5.9927797,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 9951.876,
          "gain": 2.0216608,
          "quality": 1
        }
      ]
    },
    {
      "name": "Super Bass",
      "name_zh_cn": "超重低音",
      "name_en": "super bass",
      "name_de": "Subwoofer",
      "name_fr": "Subwoofer",
      "name_jp": "サブウーファー",
      "name_zh_tw": "超重低音",
      "name_ru": "Басс",
      "name_kr": "중량초과 베이스",
      "icon": "pattern_9",
      "position": 8,
      "maxdb": 15.71632,
      "mindb": 0.11281509,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 57.184723,
          "gain": 6.4741287,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 66.99309,
          "gain": 9.419788,
          "quality": 0.46000028
        },
        {
          "index": 2,
          "frequency": 158.86566,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 316.97864,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 632.4555,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 1261.9149,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2517.8506,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 9294.319,
          "gain": 7.5330925,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 10023.743,
          "gain": 0,
          "quality": 1
        }
      ]
    },
    {
      "name": "Game",
      "name_zh_cn": "游戏",
      "name_en": "Game",
      "name_de": "Spiel",
      "name_fr": "jeu",
      "name_jp": "ゲーム",
      "name_zh_tw": "遊戲",
      "name_ru": "игра",
      "name_kr": "게임",
      "icon": "pattern_20",
      "position": 12,
      "maxdb": 12.459111,
      "mindb": -4.7667923,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 56.36766,
          "gain": 2.695547,
          "quality": 0.3
        },
        {
          "index": 1,
          "frequency": 55.56227,
          "gain": 9.843561,
          "quality": 0.3
        },
        {
          "index": 2,
          "frequency": 158.86566,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 316.97864,
          "gain": -0.024066925,
          "quality": 1
        },
        {
          "index": 4,
          "frequency": 495.19928,
          "gain": -5.2948256,
          "quality": 1
        },
        {
          "index": 5,
          "frequency": 880.60254,
          "gain": -3.1046934,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2517.8506,
          "gain": 7.894104,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 5023.7734,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 13757.197,
          "gain": 9.290012,
          "quality": 2.04
        }
      ]
    },
    {
      "name": "Children",
      "name_zh_cn": "儿童",
      "name_en": "Children",
      "name_de": "Kind",
      "name_fr": "enfant",
      "name_jp": "チャイルド",
      "name_zh_tw": "兒童",
      "name_ru": "детей",
      "name_kr": "어린이",
      "icon": "pattern_6",
      "position": 13,
      "maxdb": 1e-45,
      "mindb": -16.007286,
      "byPass": false,
      "peakingEQList": [
        {
          "index": 0,
          "frequency": 39.905247,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 1,
          "frequency": 537.91974,
          "gain": -2.849988,
          "quality": 0.3
        },
        {
          "index": 2,
          "frequency": 158.86566,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 3,
          "frequency": 584.3257,
          "gain": -7.978339,
          "quality": 0.3
        },
        {
          "index": 4,
          "frequency": 1611.6846,
          "gain": -6.9174633,
          "quality": 0.3
        },
        {
          "index": 5,
          "frequency": 1261.9149,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 6,
          "frequency": 2517.8506,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 7,
          "frequency": 5023.7734,
          "gain": 0,
          "quality": 1
        },
        {
          "index": 8,
          "frequency": 10023.743,
          "gain": 0,
          "quality": 1
        }
      ]
    }
  ],
  "name": "确定音效",
  "verCode": 29,
  "pkgName": "com.ifels.audio.mdx",
  "device": "ZTE G720T",
  "timeStamp": "2016-10-08 23:33:14"
}


var localData = [];

function initData() {
  var patts = wx.getStorageSync("patterns");
  if (!patts && patts.length <=0) {
    wx.setStorage({
      key: 'patterns',
      data: patterns.patterns
    });
    localData = patterns.patterns;
  }else{
    localData = patts;
  }
}

function getData(position){
  for (var i = 0; i < localData.length; i++) {
    if (localData[i].position == position) {
      return localData[i];
    }
  }
}

function getAllData(){
  if (localData.length == 0){
    initData();
  }
  return localData;
}

function addData(json){
  localData.push(json);
  wx.setStorage({
    key: 'patterns',
    data: localData,
  })
}

function removeData(position){
  for (var i = 0; i< localData.length; i++){
    if(localData[i].position == position){
      localData.splice(i, 1);
      break;
    }
  }
  wx.setStorage({
    key: 'patterns',
    data: localData,
  })
}

function updataData(position,json){
  for (var i = 0; i < localData.length; i++) {
    if (localData[i].position == position) {
      localData[i] = json;
      break;
    }
  }
  wx.setStorage({
    key: 'patterns',
    data: localData,
  })
}



module.exports = {
  getData: getData,
  getAllData: getAllData,
  removeData: removeData,
  updataData: updataData,
  addData: addData,
}